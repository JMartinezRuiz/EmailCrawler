DECLARE @trace NVARCHAR(4000) = (
  SELECT TOP 1 CONVERT(NVARCHAR(4000), value) 
  FROM sys.fn_trace_getinfo(NULL) 
  WHERE property = 2
);

SELECT TOP(200)
  event_name     = te.name,
  t.DatabaseName, t.FileName,
  StartTime      = t.StartTime,
  t.HostName, t.ApplicationName, t.LoginName, t.SPID,
  SizeChangeMB   = CONVERT(decimal(18,2), t.IntegerData * 8.0 / 1024)  -- pÃ¡ginas 8KB -> MB
FROM sys.fn_trace_gettable(@trace, DEFAULT) AS t
JOIN sys.trace_events AS te ON t.EventClass = te.trace_event_id
WHERE t.EventClass IN (92,93,94,95)         -- Data/Log Auto Grow/Shrink
  AND t.DatabaseID = DB_ID('tempdb')
ORDER BY t.StartTime DESC;
